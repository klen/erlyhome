Api application
===============


Описание
--------

Приложение **Api** реализует rest http api для анализа и 
сохранения последовательностей натуральных чисел


Конфигурирование
----------------

Конфигурирование приложения осуществляется путем изменения файла: `priv/api.conf`: ::

    % Max saved sequenses.
    { num_seq, 20 }.

Если файл конфигурации не будет доступен для чтения, параметры по умолчанию 
определены в app-файле `ebin/api.app`: ::
    ...
    {env, [

        % Max number of saved sequences
        { num_seq, 10 }

    ]}
    ...


Запуск
------

Для запуска сервера введите в директории приложения: ::

    make serve

или: ::

    erl -make
    yaws -i -c priv/yaws.conf
    

Принцип работы
--------------

`api.erl` стартует приложение

`api_app.erl` реализует OTP поведение `application` и логирует ошибки

`api_sup.erl` реализует OTP поведение `supervisor`,
    получает конфигурацию приложения и следит за сервером приложения

`api_server.erl` реализует OTP поведение `gen_server`
    Обрабатывает входящие последовательности, хранит их в памяти процесса
    и отдает по требованию

`api_yaws.erl` модуль для YAWS_, обрабатывает запросы и преобразует данные


Документация
------------

Для получения документации введите в директории проекта: ::

    make docs

или: ::

    erl -noshell -run edoc_run application "'api'" '"."' '[{def,{vsn,"0.1.0"}}]'


.. _YAWS: http://yaws.hiber.org
